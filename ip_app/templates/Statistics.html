{% extends "test69.html" %}

{% block content %}

	<div class="chart">
		<canvas id="myChart" width="400" height="200"></canvas>
	</div>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.6.0/Chart.js"></script>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>

	
<script>

$(document).ready(function() {

        $.get("/get-python-project-data", function(data) {
            console.log($.parseJSON(data));
            var data1 = JSON.parse(data);
            console.log(Object.keys(data1).length);
            
            
            
            var x_axis = Object.keys(data1);
            var y_axis = Object.values(data1);
            make_project_date_graph(x_axis,y_axis);
        })
        
    });

function make_project_date_graph(x_axis, y_axis) {

var ctx = document.getElementById('myChart').getContext('2d');
var chart = new Chart(ctx, {
	type: 'bar', 

	// The data for our dataset
	data: {
		labels: x_axis,

    datasets: [{
			label: "Projects Made",
			backgroundColor: 'lightblue',
			borderColor: 'royalblue',
			data: y_axis,
		}]
	},

	// Configuration options
	options: {
    
		legend: {
			position: 'right',
		},
		title: {
			display: true,
			text: 'Projects Made at Dates'
		},
		scales: {
			yAxes: [{
				scaleLabel: {
					display: true,
					labelString: 'Number of Projects Made'
				},
				    ticks: {
                      stepSize: 1
                }

			}],
			xAxes: [{
				scaleLabel: {
					display: true,
					labelString: 'Month of the Year'
				}
			}]
		}
	}
});

}

</script>
{% endblock %}